
<!DOCTYPE html>

<html lang="ar">
<head>
<meta charset="utf-8"/>
<title>ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³ÙˆÙ‚ - Ø¹Ø¨Ø¯Ø§Ù„Ø¬Ø¨Ø§Ø± Ø§Ù„Ù‚Ø¯Ø³ÙŠ</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      direction: rtl;
      font-family: 'Tahoma', sans-serif;
    }
    .background-login, .background-analysis {
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      height: 100vh;
    }
    .background-login {
      background-image: url('https://cdn.glitch.global/1a7543fd-ccd1-4f00-a782-6b287a7c5593/img1.jpg?v=1749324615104');
    }
    .background-analysis {
      background-image: url('https://cdn.glitch.global/1a7543fd-ccd1-4f00-a782-6b287a7c5593/img2.jpg?v=1749324762707');
    }
    .centered {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      background: rgba(255, 255, 255, 0.85);
      padding: 30px;
      border-radius: 15px;
      width: 300px;
    }
    .overlay {
      padding: 20px;
      background-color: rgba(255, 255, 255, 0.85);
      margin: 50px;
      border-radius: 15px;
    }
    .author {
      font-size: 24px;
      font-weight: bold;
      font-family: 'Courier New', cursive;
      color: #222;
    }
    select, input, button {
      padding: 10px;
      margin-top: 10px;
      font-size: 16px;
      width: 100%;
      box-sizing: border-box;
    }
    canvas {
      max-width: 100%;
      margin-top: 20px;
      background: #fff;
      border-radius: 10px;
    }
    .info p {
      font-size: 16px;
      margin: 5px 0;
    }
  </style>
</head>
<body class="background-login" id="appBody">
<div class="centered" id="loginPage">
<h1>Ø§Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø³Ø±ÙŠ</h1>
<input id="password" placeholder="********" type="password"/>
<button onclick="checkPassword()">Ø¯Ø®ÙˆÙ„</button>
</div>
<div class="background-analysis" id="analysisPage" style="display:none;">
<div class="overlay">
<h1 class="author">Ø§Ù„Ù…Ø­Ù„Ù„: Ø¹Ø¨Ø¯Ø§Ù„Ø¬Ø¨Ø§Ø± Ø§Ù„Ù‚Ø¯Ø³ÙŠ</h1>
<select id="cryptoSelect">
<optgroup label="Ø¹Ù…Ù„Ø§Øª Ø±Ù‚Ù…ÙŠØ©">
<option value="BTCUSDT">Bitcoin (BTC/USDT)</option>
<option value="ETHUSDT">Ethereum (ETH/USDT)</option>
<option value="BNBUSDT">BNB/USDT</option>
<option value="SOLUSDT">Solana (SOL/USDT)</option>
<option value="XRPUSDT">XRP/USDT</option>
<option value="ADAUSDT">Cardano (ADA/USDT)</option>
</optgroup>
</select>
<select id="forexSelect">
<optgroup label="Ø¹Ù…Ù„Ø§Øª Ø£Ø¬Ù†Ø¨ÙŠØ©">
<option value="EURUSD">EUR/USD</option>
<option value="USDJPY">USD/JPY</option>
<option value="GBPUSD">GBP/USD</option>
<option value="AUDUSD">AUD/USD</option>
<option value="USDCAD">USD/CAD</option>
<option value="USDCHF">USD/CHF</option>
</optgroup>
</select>
<select id="timeframe">
<option value="1m">1 Ø¯Ù‚ÙŠÙ‚Ø©</option>
<option value="5m">5 Ø¯Ù‚Ø§Ø¦Ù‚</option>
<option value="15m">15 Ø¯Ù‚ÙŠÙ‚Ø©</option>
<option value="1h">1 Ø³Ø§Ø¹Ø©</option>
<option value="1d">1 ÙŠÙˆÙ…</option>
</select><select id="analysisType"><option value="basic">ØªØ­Ù„ÙŠÙ„ Ø¨Ø³ÙŠØ·</option><option value="smart">ØªØ­Ù„ÙŠÙ„ Ø°ÙƒÙŠ</option></select>
<button onclick="analyzeMarket()">ØªØ­Ù„ÙŠÙ„</button>
<canvas height="200" id="chart" width="400"></canvas>
<div class="info">
<p id="trend">ğŸ”½ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: Ù‡Ø§Ø¨Ø·</p>
<p id="candle">ğŸ•¯ Ù…Ø¯Ø© Ø§Ù„Ø´Ù…Ø¹Ø©: Ø¯Ù‚ÙŠÙ‚Ø© ÙˆØ§Ø­Ø¯Ø©</p>
<p id="duration">â³ Ù…Ø¯Ø© Ø§Ù„ØªØ¯Ø§ÙˆÙ„: 3 Ø¯Ù‚Ø§Ø¦Ù‚</p>
<p id="time">ğŸ•’ ÙˆÙ‚Øª Ø§Ù„Ø¯Ø®ÙˆÙ„: Ø­Ø³Ø¨ Ø­Ø±ÙƒØ© Ø§Ù„ÙƒØ³Ø± Ø£Ùˆ Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯</p>
</div>
</div>
</div>
<audio id="alertSound" src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_9f1f3db535.mp3?filename=notification-103244.mp3"></audio>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    let chartInstance;

    function checkPassword() {
      const password = document.getElementById('password').value;
      if (atob('NzMzODQ1') === password) {
        document.getElementById('loginPage').style.display = 'none';
        document.getElementById('analysisPage').style.display = 'block';
        document.getElementById('appBody').className = 'background-analysis';
        renderChart();
      } else {
        alert('Ø±Ù…Ø² ØºÙŠØ± ØµØ­ÙŠØ­!');
      }
    }

    function analyzeMarket() {
      const crypto = document.getElementById('cryptoSelect').value;
      const timeframe = document.getElementById('timeframe').value;

      document.getElementById('candle').innerText = `ğŸ•¯ Ù…Ø¯Ø© Ø§Ù„Ø´Ù…Ø¹Ø©: ${timeframe}`;
      document.getElementById('duration').innerText = 'â³ Ù…Ø¯Ø© Ø§Ù„ØªØ¯Ø§ÙˆÙ„: 3 Ø¯Ù‚Ø§Ø¦Ù‚';
      document.getElementById('time').innerText = 'ğŸ•’ ÙˆÙ‚Øª Ø§Ù„Ø¯Ø®ÙˆÙ„: Ø¹Ù†Ø¯ ÙƒØ³Ø± Ø§Ù„Ù…Ù‚Ø§ÙˆÙ…Ø© Ø£Ùˆ Ø¯Ø¹Ù… Ù‚ÙˆÙŠ';

      fetchDataAndRenderChart(crypto, timeframe);
    }

    function fetchDataAndRenderChart(symbol = "BTCUSDT", interval = "1m") {
      const url = `https://api.binance.com/api/v3/klines?symbol=${symbol}&interval=${interval}&limit=30`;
      fetch(url)
        .then(response => response.json())
        .then(data => {
          const labels = data.map(entry => {
            const date = new Date(entry[0]);
            return `${date.getHours()}:${String(date.getMinutes()).padStart(2, '0')}`;
          });

          const prices = data.map(entry => parseFloat(entry[4])); // Close price
          const last = prices[prices.length - 1];
          const prev = prices[prices.length - 6]; // 5 Ø´Ù…ÙˆØ¹ ÙØ±Ù‚

          const change = last - prev;
          let trend = "â¡ï¸ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: Ø¬Ø§Ù†Ø¨ÙŠ";

          if (change > 0.05) {
            trend = "ğŸ”¼ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: ØµØ§Ø¹Ø¯";
            playAudio();
          } else if (change < -0.05) {
            trend = "ğŸ”½ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: Ù‡Ø§Ø¨Ø·";
            playAudio();
          }

          document.getElementById("trend").innerText = trend;

          localStorage.setItem("lastTrend", trend);
          updateChart(labels, prices);
      const analysisType = document.getElementById('analysisType').value;

      if (analysisType === 'smart') {
        // ØªØ­Ù„ÙŠÙ„ Ø°ÙƒÙŠ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø§ØªØ¬Ø§Ù‡
        const avg = prices.reduce((a, b) => a + b, 0) / prices.length;
        const last = prices[prices.length - 1];
        let trend = '';
        if (last > avg * 1.01) {
          trend = 'ğŸ”¼ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: ØµØ§Ø¹Ø¯ Ø¨Ù‚ÙˆØ©';
          playAlertSound();
        } else if (last < avg * 0.99) {
          trend = 'ğŸ”½ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: Ù‡Ø§Ø¨Ø· Ø¨Ù‚ÙˆØ©';
          playAlertSound();
        } else {
          trend = 'â¡ï¸ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: Ø¬Ø§Ù†Ø¨ÙŠ';
        }
        document.getElementById('trend').innerText = trend;
      }

      function playAlertSound() {
        const audio = new Audio('https://cdn.pixabay.com/download/audio/2022/03/15/audio_19f13235c6.mp3?filename=correct-2-46134.mp3');
        audio.play();
      }

        })
        .catch(error => {
          console.error("Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:", error);
        });
    }

    function playAudio() {
      const audio = document.getElementById("alertSound");
      audio.play();
    }

    function updateChart(labels, data) {
      const ctx = document.getElementById('chart').getContext('2d');
      if (chartInstance) chartInstance.destroy();

      chartInstance = new Chart(ctx, {
        type: 'line',
        data: {
          labels: labels,
          datasets: [{
            label: 'Ø§Ù„Ø³Ø¹Ø±',
            data: data,
            borderColor: 'green',
            backgroundColor: 'rgba(0,255,0,0.1)',
            tension: 0.4
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: false }
          },
          scales: {
            y: { beginAtZero: false }
          }
        }
      });
    }

    function renderChart() {
      const lastTrend = localStorage.getItem("lastTrend");
      if (lastTrend) document.getElementById("trend").innerText = lastTrend;
      fetchDataAndRenderChart();
    }
  </script>
</body>
</html>
